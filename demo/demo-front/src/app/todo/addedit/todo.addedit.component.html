
<form (ngSubmit)="onSubmit(todoForm.value)" #todoForm="ngForm">
    <div class="modal-header">
        <h4>
            <i class="fa fa-users fa-2x"></i>&nbsp;Todo {{ todo?.name }}
        </h4>
    </div>

    <div class="modal-body">
        <div class="form-group">
            <label for="name">Name</label>
            <input type="text" class="form-control" id="name" [(ngModel)]="todo.name" name="name" required #name="ngModel">
        
            <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
                Name is required
            </div>
        </div>

        <div class="form-group">
            
            <div class="input-group">
                <input class="form-control" placeholder="dd-MM-yyyy"
                        name="parsedDate" [(ngModel)]="todo.parsedDate" 
                        ngbDatepicker #parsedDate="ngModel" #d="ngbDatepicker">
                <div class="input-group-append">
                    <button class="btn btn-outline-secondary calendar" (click)="d.toggle()" type="button">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </button>
                </div>
            </div>

            <div [hidden]="parsedDate.valid || parsedDate.pristine" class="alert alert-danger">
                Date is required
            </div>
        </div>

        <div class="form-group">
            <label for="enabled">
                <input type="checkbox" name="done" id="done" [(ngModel)]="todo.done">
                Done
            </label>
        </div>
    </div>

    <div class="modal-footer">
        <button type="submit" class="btn btn-info" [disabled]="!todoForm.form.valid || todoPromiseLoading">Submit</button>
        <button type="button" class="btn btn-warning" (click)="close()">Cancel</button>
    </div>

    <pre class="card card-block card-header">{{ todo | json }}</pre>
</form>
